<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n-key="doc_title">Annie Chen | 應用資料科學家</title>
    
    <!-- Google Fonts: A clean, professional font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <!-- All CSS is included inside this <style> tag for simplicity -->
    <style>
        /* --- CSS 變數 (Gigi Murin 主題調色盤) --- */
        :root {
            --primary-color: #F58A4B;      /* 主色調: Gigi 的代表橘色 */
            --secondary-color: #2C3E50;    /* 次要/文字色: 深海軍藍 */
            --background-color: #FFFBF5;   /* 背景色: 溫暖的米白色 */
            --text-color: #2C3E50;         /* 文字顏色: 深海軍藍 */
            --light-gray: #EAEAEA;         /* 淺灰色/邊框 */
            --white: #ffffff;              /* 卡片背景 */
            --accent-color: #FFC857;       /* 強調色: Gigi 的金色點綴 */
            --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        /* --- 通用樣式 --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Poppins', 'Noto Sans TC', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        .container {
            max-width: 1100px;
            margin: auto;
            padding: 0 2rem;
        }

        /* --- 頁首與導覽列 --- */
        .main-header {
            background: var(--white);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .main-header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            text-decoration: none;
        }

        .main-nav {
            display: flex;
            align-items: center;
        }

        .main-nav ul {
            display: flex;
            list-style: none;
            margin-right: 1.5rem;
        }

        .main-nav a {
            color: var(--text-color);
            text-decoration: none;
            padding: 0.5rem 1rem;
            font-weight: 600;
            transition: color 0.3s ease;
        }

        .main-nav a:hover {
            color: var(--primary-color);
        }
        
        /* 語言切換器樣式 */
        .lang-switcher {
            display: flex;
            align-items: center;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        .lang-switcher:hover {
            background-color: var(--light-gray);
        }
        .lang-switcher i {
            margin-right: 0.5rem;
            color: var(--secondary-color);
        }
        .lang-switcher span {
            font-weight: 600;
            color: var(--text-color);
        }

        /* --- 英雄區塊 (已合併關於我) --- */
        .hero {
            min-height: 80vh;
            height: auto;
            display: flex;
            align-items: center;
            text-align: center;
            padding: 4rem 0;
        }

        .hero-content h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        
        .hero-content h1 span {
            color: var(--primary-color);
        }

        .hero-content p {
            font-size: 1.1rem;
            color: var(--secondary-color);
            margin-bottom: 2.5rem;
            max-width: 750px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.8;
        }

        .btn {
            display: inline-block;
            background: var(--primary-color);
            color: var(--white);
            padding: 0.8rem 2rem;
            text-decoration: none;
            border-radius: 5px;
            font-weight: 600;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 15px rgba(245, 138, 75, 0.4);
        }

        /* --- 區塊通用樣式 --- */
        section {
            padding: 4rem 0;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
        }
        
        section#projects, section#chatbot {
            background-color: var(--white);
        }
        
        /* 技能區塊 */
        .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1.5rem;
            text-align: center;
        }
        
        .skill-item {
            background: var(--white);
            padding: 1rem;
            border-radius: 8px;
            box-shadow: var(--box-shadow);
            font-weight: 600;
            transition: transform 0.2s ease-in-out;
        }
        .skill-item:hover {
            transform: scale(1.05);
        }

        /* 專案區塊 */
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .project-card {
            border: 1px solid var(--light-gray);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--box-shadow);
            transition: transform 0.3s ease;
        }
        .project-card:hover {
            transform: translateY(-5px);
        }
        
        .project-card h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: var(--primary-color);
        }
        
        .project-card-content {
            padding: 1.5rem;
        }
        
        .project-links a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 600;
            margin-right: 1rem;
        }
        
        .project-links a:hover {
            text-decoration: underline;
        }

        /* --- 聊天機器人區塊樣式 --- */
        #chatbot-container {
            max-width: 600px;
            margin: auto;
            height: 500px;
            border: 1px solid var(--light-gray);
            border-radius: 8px;
            display: flex;
            flex-direction: column; 
            background: var(--white);
            box-shadow: var(--box-shadow);
            overflow: hidden; 
        }

        .chat-messages {
            position: relative; /* position baseline 基準 */
            flex-grow: 1;
            padding: 1rem;
            overflow-y: auto; 
            display: flex;
            flex-direction: column;
        }

        .chat-messages::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('https://static.wikitide.net/hololivewiki/0/03/Gigi_Murin_-_Portrait_01.png');
            background-size: cover;
            background-position: center;
            opacity: 0.1; /* image opacity 設定透明度 */
            z-index: 0;
        }

        .message {
            position: relative; /* make sure the msg is above the background image */
            z-index: 1;         /* make sure the msg is above the background image */
            max-width: 80%;
            padding: 0.75rem 1rem;
            border-radius: 18px;
            margin-bottom: 0.5rem;
            line-height: 1.4;
        }

        .message.user {
            background-color: var(--primary-color);
            color: var(--white);
            align-self: flex-end; 
            border-bottom-right-radius: 4px;
        }

        .message.bot {
            background-color: var(--light-gray);
            color: var(--text-color);
            align-self: flex-start; 
            border-bottom-left-radius: 4px;
        }
        
        .message.bot.typing span {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--secondary-color);
            margin: 0 2px;
            animation: typing-animation 1.2s infinite ease-in-out;
        }
        
        .message.bot.typing span:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .message.bot.typing span:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typing-animation {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1.0); }
        }

        .chat-input-form {
            display: flex;
            padding: 1rem;
            border-top: 1px solid var(--light-gray);
            background-color: #fdfdff;
        }

        .chat-input {
            flex-grow: 1;
            padding: 0.75rem;
            border: 1px solid var(--light-gray);
            border-radius: 20px;
            margin-right: 0.5rem;
            font-size: 1rem;
            font-family: 'Poppins', 'Noto Sans TC', sans-serif;
        }
        .chat-input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .send-btn {
            background: var(--accent-color);
            color: var(--text-color);
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s, transform 0.2s;
        }
        .send-btn:hover {
            background-color: #FFD700; /* Gold */
            transform: scale(1.1);
        }

        /* --- 聯絡區塊 --- */
        .contact-links {
            text-align: center;
            font-size: 2.5rem;
        }
        
        .contact-links a {
            color: var(--text-color);
            margin: 0 1rem;
            transition: color 0.3s ease;
        }
        
        .contact-links a:hover {
            color: var(--primary-color);
        }

        /* --- 頁尾 --- */
        .main-footer {
            text-align: center;
            padding: 2rem 0;
            background: var(--light-gray);
            margin-top: 2rem;
        }

    </style>
</head>
<body>

    <!-- Header and Navigation -->
    <header class="main-header">
        <div class="container">
            <a href="#" class="logo" data-i18n-key="your_name_logo">Annie.C</a>
            <nav class="main-nav">
                <ul>
                    <li><a href="#projects" data-i18n-key="nav_projects">Projects</a></li>
                    <li><a href="#contact" data-i18n-key="nav_contact">Contact</a></li>
                </ul>
                <div class="lang-switcher" id="lang-switcher">
                    <i class="fas fa-globe"></i>
                    <span id="lang-text">EN</span>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section class="hero">
            <div class="container hero-content">
                <h1 data-i18n-key="hero_title">Hello, I'm <span>Annie</span></h1>
                <p data-i18n-key="hero_subtitle">As a recent graduate from UT Dallas with a Master's in IT and Management, I blend a strong business acumen with deep technical expertise. With over 3 years of hands-on experience, I specialize in designing and implementing end-to-end machine learning workflows, from ETL pipelines to model deployment. I am particularly skilled in statistical analysis and A/B testing to drive strategic decisions and deliver measurable business impact.</p>
                <a href="#projects" class="btn" data-i18n-key="hero_button">View My Work</a>
            </div>
        </section>

        <!-- Skills Section -->
        <section id="skills">
            <div class="container">
                <h2 class="section-title" data-i18n-key="skills_title">My Skills</h2>
                 <div class="skills-grid">
                    <div class="skill-item">Python (Pandas, NumPy)</div>
                    <div class="skill-item">SQL (MySQL, Postgres)</div>
                    <div class="skill-item">Machine Learning</div>
                    <div class="skill-item">A/B Testing</div>
                    <div class="skill-item">Data Visualization (Tableau)</div>
                    <div class="skill-item">Cloud (AWS)</div>
                    <div class="skill-item">ETL & Data Pipelines</div>
                    <div class="skill-item">LLM Orchestration</div>
                    <div class="skill-item">Docker & CI/CD</div>
                    <div class="skill-item">Git</div>
                 </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects">
            <div class="container">
                <h2 class="section-title" data-i18n-key="projects_title">Projects</h2>
                <div class="projects-grid">
                    <!-- Project 1: AI Chatbot (This Project!) -->
                    <div class="project-card">
                        <div class="project-card-content">
                            <h3 data-i18n-key="project1_title">Portfolio AI Assistant</h3>
                            <p data-i18n-key="project1_desc">An intelligent chatbot integrated into this website, built with a custom AI stack. It uses Flowise for visual workflow orchestration, OpenAI for language understanding, and is deployed on a scalable cloud architecture. The entire system is secured with a proxy layer to protect API keys.</p>
                            <div class="project-links">
                                <a href="#chatbot" data-i18n-key="project_demo">Live Demo</a> 
                                <a href="https://github.com/chikuku/chikuku.github.io" target="_blank" rel="noopener noreferrer">GitHub</a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="project-card">
                        <div class="project-card-content">
                            <h3 data-i18n-key="project2_title">Credit Card User Credit Prediction</h3>
                            <p data-i18n-key="project2_desc">Built, trained, and tuned supervised classification models to predict user credit ratings using a Kaggle dataset of 100k records. The project involved data preprocessing, EDA, and training multiple algorithms, with Random Forest selected as the best performer with 0.81 accuracy.</p>
                             <div class="project-links">
                                <a href="#" target="_blank" rel="noopener noreferrer" data-i18n-key="project_demo">Live Demo</a>
                                <a href="#" target="_blank" rel="noopener noreferrer">GitHub</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Chatbot Section -->
        <section id="chatbot">
            <div class="container">
                <h2 class="section-title" data-i18n-key="chatbot_title">Chat With My AI Assistant (Building in Progress)</h2>
                <p style="text-align:center; max-width: 700px; margin: -2rem auto 2rem auto;" data-i18n-key="chatbot_desc">I built this chatbot from scratch to answer questions about my skills and experience. Ask it anything! (e.g., "What databases do you know?" or "Tell me about your AI assistant project.")</p>
                <div id="chatbot-container">
                    <!-- Chatbot UI will be injected here by JavaScript -->
                </div>
            </div>
        </section>
        
        <!-- Contact Section -->
        <section id="contact">
            <div class="container">
                 <h2 class="section-title" data-i18n-key="contact_title">Get In Touch</h2>
                 <div class="contact-links">
                     <a href="mailto:annichenyt@gmail.com"><i class="fas fa-envelope"></i></a>
                     <a href="https://www.linkedin.com/in/yingtzu-chen/" target="_blank" rel="noopener noreferrer"><i class="fab fa-linkedin"></i></a>
                     <a href="https://github.com/chikuku" target="_blank" rel="noopener noreferrer"><i class="fab fa-github"></i></a>
                 </div>
            </div>
        </section>

    </main>
    
    <!-- Footer -->
    <footer class="main-footer">
        <div class="container">
            <p data-i18n-key="footer_text">&copy; 2025 Annie Chen. All rights reserved.</p>
        </div>
    </footer>

    <!-- All JavaScript is included inside this <script> tag for now -->
    <script>
        // --- SMOOTH SCROLL LOGIC ---
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // --- I18N (INTERNATIONALIZATION) LOGIC ---
        const translations = {
            en: {
                doc_title: "Annie Chen | Applied Data Scientist",
                your_name_logo: "Annie.C",
                nav_projects: "Projects",
                nav_contact: "Contact",
                lang_switcher_text: "中",
                hero_title: "Hello, I'm <span>Annie</span>",
                hero_subtitle: 
                    " Curious about users<br>\
                    Obsessed with data <br>\
                    I am a data scientist who turns business problems into tech solutions",
                hero_button: "View My Work",
                skills_title: "My Skills",
                projects_title: "Projects",
                project1_title: "Portfolio AI Assistant",
                project1_desc: "An intelligent chatbot integrated into this website, built with a custom AI stack.\
                    It uses Flowise for visual workflow orchestration, OpenAI for language understanding,\
                    and is deployed on a scalable cloud architecture.\
                    The entire system is secured with a proxy layer to protect API keys.",
                project2_title: "Credit Card User Credit Prediction",
                project2_desc: "Built, trained, and tuned supervised classification models to predict user credit ratings using a Kaggle dataset of 100k records. The project involved data preprocessing, EDA, and training multiple algorithms, with Random Forest selected as the best performer with 0.81 accuracy.",
                project_demo: "Live Demo",
                chatbot_title: "Chat With Grem <br> \
                    A Gigi Murin Super Fan!",
                chatbot_desc: 'I built this chatbot to show case my skills and love to the talent.\
                Ask her anything about Gigi Murin!',
                chatbot_loading: "Chatbot UI is loading...",
                chat_placeholder: "Type your message here...",
                contact_title: "Get In Touch",
                footer_text: "&copy; 2025 Annie Chen. All rights reserved.",
                chat_error: "Sorry, I'm having some trouble right now. Please try again later."
            },
            zh: {
                doc_title: "Annie Chen | 應用資料科學家",
                your_name_logo: "Annie Chen",
                nav_projects: "專案",
                nav_contact: "聯絡我",
                lang_switcher_text: "EN",
                hero_title: "你好，我是 <span>Annie Chen</span>",
                hero_subtitle: "作為德州大學達拉斯分校資訊技術與管理碩士的應屆畢業生，我融合了紮實的商業頭腦與深厚的技術專業。憑藉超過3年的實務經驗，我專精於設計與實現端到端的機器學習工作流程——從 ETL 數據管道到模型部署。我尤其擅長透過統計分析和 A/B 測試來驅動策略決策，並創造可衡量的商業影響力。",
                hero_button: "查看我的作品",
                skills_title: "我的技能",
                projects_title: "專案作品",
                project1_title: "作品集 AI 助理",
                project1_desc: "一個整合在此網站中的智慧型聊天機器人，使用客製化的 AI 技術棧建構。它利用 Flowise 進行視覺化工作流程編排，使用 OpenAI 進行語言理解，並部署在可擴展的雲端架構上。整個系統透過代理層進行保護，以確保 API 金鑰的安全。",
                project2_title: "信用卡使用者信用預測",
                project2_desc: "使用 Kaggle 十萬筆記錄的資料集，建立、訓練並調優監督式分類模型，以預測使用者信用評級。專案涵蓋數據前處理、探索性資料分析(EDA)，並訓練了決策樹、KNN、邏輯回歸等多種算法，最終以隨機森林達到最佳的0.81準確率。",
                project_demo: "線上預覽",
                chatbot_title: "和 Grem 聊天吧 <br>\
                                他是 Gigi Murin 的超級粉絲！",
                chatbot_desc: '這個聊天機器人是我從零開始打造的，用來展示我的技能以及對Gigi演員的熱愛。可以問它任何關於Gigi的事唷 \
                                ',
                chatbot_loading: "聊天機器人介面載入中...",
                chat_placeholder: "在這裡輸入訊息...",
                contact_title: "聯絡方式",
                footer_text: "&copy; 2025 Annie Chen. 版權所有.",
                chat_error: "抱歉，我現在遇到了一些問題，請稍後再試。"
            }
        };
        const setLanguage = (language) => {
            document.querySelectorAll('[data-i18n-key]').forEach(element => {
                const key = element.getAttribute('data-i18n-key');
                if (translations[language][key]) {
                    element.innerHTML = translations[language][key];
                }
            });
            document.getElementById('lang-text').innerText = translations[language].lang_switcher_text;
            document.documentElement.lang = language;
            
            const chatInput = document.getElementById('chat-input');
            if (chatInput) {
                chatInput.placeholder = translations[language].chat_placeholder;
            }
        };
        const langSwitcher = document.getElementById('lang-switcher');
        let currentLang = localStorage.getItem('lang') || 'en';
        setLanguage(currentLang);
        langSwitcher.addEventListener('click', () => {
            currentLang = currentLang === 'en' ? 'zh' : 'en';
            localStorage.setItem('lang', currentLang);
            setLanguage(currentLang);
        });

        // --- CHATBOT LOGIC ---

        // 我們的 Cloudflare 代理 URL (現在先用一個假的)
        const PROXY_URL = "https://icy-flowise-01.annichenyt.workers.dev";

        // 獲取將要放置聊天機器人的容器
        const chatbotContainer = document.getElementById('chatbot-container');
        
        // 聊天紀錄，用來發送給 Flowise
        let chatHistory = [];

        // Chatbot UI - 渲染聊天機器人 UI 的函式
        function renderChatbot() {
            chatbotContainer.innerHTML = `
                <div class="chat-messages" id="chat-messages"></div>
                <form class="chat-input-form" id="chat-form">
                    <input type="text" id="chat-input" class="chat-input" placeholder="" autocomplete="off">
                    <button type="submit" class="send-btn">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </form>
            `;
            
            const chatInput = document.getElementById('chat-input');
            if (chatInput) {
                chatInput.placeholder = translations[currentLang].chat_placeholder;
            }

            // 獲取剛剛建立的元素
            const chatForm = document.getElementById('chat-form');
            const chatMessages = document.getElementById('chat-messages');

            // 監聽表單提交事件
            chatForm.addEventListener('submit', async (e) => {
                e.preventDefault(); 
                const message = chatInput.value.trim();
                if (!message) return; 

                addMessage(message, 'user');
                chatInput.value = ''; 

                showTypingIndicator();

                try {
                    const response = await sendMessageToProxy(message);
                    
                    removeTypingIndicator();

                    addMessage(response.text, 'bot');

                } catch (error) {
                    removeTypingIndicator();
                    console.error("Error communicating with the proxy:", error);
                    addMessage(translations[currentLang].chat_error, 'bot');
                }
            });
        }

        // 發送訊息到代理的非同步函式
        async function sendMessageToProxy(message) {
            const response = await fetch(PROXY_URL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    question: message,
                    overrideConfig: { 
                    history: chatHistory
                    },  
                }),
            });

            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }

            const data = await response.json();
            
            chatHistory.push({ type: 'human', message: message });
            chatHistory.push({ type: 'ai', message: data.text });
            
            return data;
        }

        // 新增訊息到對話框的函式
        function addMessage(text, type) {
            const chatMessages = document.getElementById('chat-messages');
            const messageElement = document.createElement('div');
            messageElement.classList.add('message', type);
            messageElement.textContent = text;
            chatMessages.appendChild(messageElement);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // 顯示「正在輸入中...」的函式
        function showTypingIndicator() {
            const chatMessages = document.getElementById('chat-messages');
            const typingIndicator = document.createElement('div');
            typingIndicator.id = 'typing-indicator';
            typingIndicator.classList.add('message', 'bot', 'typing');
            typingIndicator.innerHTML = `<span></span><span></span><span></span>`;
            chatMessages.appendChild(typingIndicator);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // 移除「正在輸入中...」的函式
        function removeTypingIndicator() {
            const typingIndicator = document.getElementById('typing-indicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        // --- 程式進入點 ---
        window.addEventListener('DOMContentLoaded', renderChatbot);
        
    </script>
</body>
</html>
